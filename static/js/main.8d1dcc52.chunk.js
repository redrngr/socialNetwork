(this.webpackJsonpebase=this.webpackJsonpebase||[]).push([[0],{60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var s=a(15),n=a.n(s),c=a(9),l=a(63),i=a(29),r=a(2),o=a(30),m=a.n(o).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"b5ca5d77-73a2-4e1d-9d41-4093195e078c"},responseType:"json"}),d={all:function(e,t,a){return m.get("/users",{params:{page:e,count:t,term:a}}).then((function(e){return e.data}))},profile:function(e){return m.get("/profile/".concat(e)).then((function(e){return e.data}))}},j={employees:[],inProgress:!1,pageSize:10,totalUsersCount:0,currentPage:1,filter:{term:""}},u=function(e){return{type:"LIST_PAGE_LOADED",employees:e}},b=function(e){return{type:"ASYNC_TOGGLE",inProgress:e}},p=function(e){return{type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e}},h=function(e){return{type:"SET_CURRENT_PAGE",page:e}},O=function(e){return{type:"SET_FILTER",term:e}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST_PAGE_LOADED":return Object(r.a)(Object(r.a)({},e),{},{employees:t.employees});case"ASYNC_TOGGLE":return Object(r.a)(Object(r.a)({},e),{},{inProgress:t.inProgress});case"SET_TOTAL_USERS_COUNT":return Object(r.a)(Object(r.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SET_CURRENT_PAGE":return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.page});case"SET_FILTER":return Object(r.a)(Object(r.a)({},e),{},{filter:{term:t.term}});default:return e}},f={profile:{userId:0,lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",contacts:{github:"",vk:"",facebook:"",instagram:"",twitter:"",website:"",youtube:"",mainLink:""},photos:{small:"",large:""}},inProgress:!1},g=function(e){return{type:"PROFILE_PAGE_LOADED",profile:e}},N=function(e){return{type:"ASYNC_TOGGLE",inProgress:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_PAGE_LOADED":return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case"ASYNC_TOGGLE":return Object(r.a)(Object(r.a)({},e),{},{inProgress:t.inProgress});default:return e}},y={isAuth:!1},w=function(e){return{type:"SET_AUTH",isAuth:e}},E=function(e){return function(t){t(w(e))}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(r.a)(Object(r.a)({},e),{},{isAuth:t.isAuth});default:return e}},A=Object(l.c)(Object(l.b)({list:x,profile:v,common:S}),Object(l.a)(i.a));window.store=A;var P=a(5),T=a(3),k=a(11),C=a(31),L=a(1),_=a.p+"static/media/avatarHolder.14a17919.png",U=a(0),F=Object(c.b)((function(e){return{profile:e.profile.profile}}),{getProfile:function(e){return function(t){t(N(!0)),d.profile(e).then((function(e){t(N(!1)),t(g(e))})).catch((function(e){t(N(!1)),console.log(e)}))}}})((function(e){var t=e.profile,a=Object(C.a)(e,["profile"]),s=Number(a.match.params.id);Object(L.useEffect)((function(){a.getProfile(s)}),[s]);var n=Object(L.useState)(!1),c=Object(k.a)(n,2),l=c[0],i=c[1];return Object(U.jsxs)("div",{className:"d-flex mb-5 p-3",style:{width:"100%"},children:[Object(U.jsx)("div",{className:"d-flex flex-column",children:Object(U.jsx)("img",{className:"card-img-top",src:t.photos.large||_,alt:"Pic"})}),Object(U.jsx)("div",{className:"ms-3",children:Object(U.jsxs)("form",{className:"row g-3",children:[Object(U.jsxs)("div",{className:"col-md-6",children:[Object(U.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"name",value:t.fullName,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-md-6",children:[Object(U.jsx)("label",{htmlFor:"github",className:"form-label",children:"GITHUB"}),Object(U.jsx)("input",{type:"tel",className:"form-control",id:"github",value:t.contacts.github,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-md-6",children:[Object(U.jsx)("label",{htmlFor:"vk",className:"form-label",children:"VK"}),Object(U.jsx)("input",{type:"email",className:"form-control",id:"vk",value:t.contacts.vk,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-md-6",children:[Object(U.jsx)("label",{htmlFor:"facebook",className:"form-label",children:"FACEBOOK"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"facebook",value:t.contacts.facebook,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-12",children:[Object(U.jsx)("label",{htmlFor:"instagram",className:"form-label",children:"INSTAGRAM"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"instagram",value:t.contacts.instagram,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-12",children:[Object(U.jsx)("label",{htmlFor:"twitter",className:"form-label",children:"TWITTER"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"twitter",value:t.contacts.twitter,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-12",children:[Object(U.jsx)("label",{htmlFor:"website",className:"form-label",children:"WEBSITE"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"website",value:t.contacts.website,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-md-6",children:[Object(U.jsx)("label",{htmlFor:"youtube",className:"form-label",children:"YOUTUBE"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"youtube",value:t.contacts.youtube,disabled:!l,readOnly:!l})]}),Object(U.jsxs)("div",{className:"col-md-2",children:[Object(U.jsx)("label",{htmlFor:"mainLink",className:"form-label",children:"MAINLINK"}),Object(U.jsx)("input",{type:"text",className:"form-control",id:"mainLink",value:t.contacts.mainLink,disabled:!l,readOnly:!l})]}),Object(U.jsx)("div",{className:"d-flex justify-content-between mt-3 mb-3",children:l?Object(U.jsx)("button",{type:"submit",className:"btn btn-success ms-3",children:"Save changes"}):Object(U.jsx)("div",{className:"btn btn-primary",onClick:function(){i(!l)},children:"Edit profile"})})]})})]})})),I=function(e){var t=e.id,a=e.state;return Object(U.jsxs)("div",{className:"card m-3",style:{width:"14rem"},children:[Object(U.jsx)("img",{className:"card-img-top",src:a.photos.large||_,height:"222",alt:"avatar",style:{fontSize:0}}),Object(U.jsxs)("div",{className:"card-body h-100 d-flex flex-column justify-content-between",children:[Object(U.jsxs)("div",{className:"mb-2",children:[Object(U.jsx)("h5",{className:"card-title",children:a.name}),Object(U.jsx)("p",{className:"card-text",children:a.status||"Hi! i am React JS Junior developer"})]}),Object(U.jsx)(P.b,{className:"btn btn-outline-primary",to:"/employees/"+t,children:"More"})]})]})},R=function(e){return Object(U.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(U.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(U.jsx)("span",{className:"sr-only"})}),Object(U.jsx)("h5",{className:"text-primary p-1",children:Object(U.jsx)("b",{children:e.message})})]})},G=function(e){var t=Object(L.useState)(""),a=Object(k.a)(t,2),s=a[0],n=a[1];return Object(U.jsx)("form",{className:"me-3",onReset:function(){s&&(n(""),e.handleSearch(""))},children:Object(U.jsxs)("div",{className:"input-group flex-nowrap",children:[Object(U.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"Search"}),Object(U.jsx)("input",{name:"search",className:"form-control",type:"search","aria-label":"Search",placeholder:"Enter the name",value:s,onChange:function(t){n(t.target.value),e.handleSearch(t.target.value)}}),Object(U.jsx)("button",{className:"btn btn-outline-secondary",type:"reset",children:"Reset"})]})})},z=function(e){var t=e.totalCount,a=e.pageSize,s=e.currentPage,n=e.portionSize,c=void 0===n?10:n,l=e.term,i=e.handleClick,r=Math.ceil(t/a),o=new Array(r).fill(1).map((function(e,t){return e+t})),m=Math.ceil(r/10),d=Object(L.useState)(1),j=Object(k.a)(d,2),u=j[0],b=j[1],p=(u-1)*c+1,h=u*c;Object(L.useEffect)((function(){b(1)}),[l]);return Object(U.jsx)("nav",{"aria-label":"Page navigation example",children:Object(U.jsxs)("ul",{className:"pagination mb-0",onClick:i,children:[Object(U.jsx)("li",{className:"page-item",children:Object(U.jsx)(P.c,{className:"page-link",onClick:function(e){e.stopPropagation(),u>1&&b(u-1)},to:"#",children:"Previous"})}),o.filter((function(e){return e>=p&&e<=h})).map((function(e){return Object(U.jsx)("li",{className:s===e?"page-item active":"page-item",children:Object(U.jsx)(P.c,{className:"page-link",id:e,to:"#",children:e})},e)})),Object(U.jsx)("li",{className:"page-item",children:Object(U.jsx)(P.c,{className:"page-link",onClick:function(e){e.stopPropagation(),u<m&&b(u+1)},to:"#",children:"Next"})})]})})},D=Object(c.b)((function(e){return{employees:e.list.employees,inProgress:e.list.inProgress,totalUsersCount:e.list.totalUsersCount,currentPage:e.list.currentPage,pageSize:e.list.pageSize,term:e.list.filter.term}}),{getEmployees:function(e,t,a){return function(s){s(b(!0)),d.all(e,t,a).then((function(e){s(b(!1)),s(u(e.items)),s(p(e.totalCount))})).catch((function(e){s(b(!1)),console.log(e)})),s(h(e)),s(O(a))}}})((function(e){var t=Object.assign({},e);Object(L.useEffect)((function(){t.getEmployees(1,t.pageSize,"")}),[]);var a=function(e){return t.getEmployees(1,t.pageSize,e)};return a=function(e,t){var a;return function(){for(var s=this,n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];clearTimeout(a),a=setTimeout((function(){return e.apply(s,c)}),t)}}(a,300),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)("div",{className:"d-flex flex-wrap justify-content-between mx-3",children:[Object(U.jsx)(G,{pageSize:t.pageSize,currentPage:t.currentPage,handleSearch:a,term:t.term}),Object(U.jsx)(z,{currentPage:t.currentPage,totalCount:t.totalUsersCount,pageSize:t.pageSize,handleClick:function(e){var a=Number(e.target.id);a!==t.currentPage&&t.getEmployees(a,t.pageSize,t.term)},term:t.term})]}),Object(U.jsx)("hr",{}),t.inProgress?Object(U.jsx)(R,{message:"Loading..."}):0!==t.employees.length?Object(U.jsx)("div",{className:"d-flex flex-wrap justify-content-start",children:t.employees.map((function(e){return Object(U.jsx)(I,{state:e,id:e.id},e.id)}))}):Object(U.jsx)("div",{className:"d-flex",children:Object(U.jsx)("span",{className:"alert alert-warning ms-3",children:"Employees not found"})})]})})),q=function(e){var t=e.onOutside,a=e.setAuth,s=null;Object(L.useEffect)((function(){return document.addEventListener("mousedown",n),function(){return document.removeEventListener("mousedown",n)}}),[]);var n=function(e){console.log("outside"),console.log(e),s&&!s.contains(e.target)&&t()};return Object(U.jsx)("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow show","aria-labelledby":"dropdownUser1",style:{position:"absolute",inset:"auto auto 0px 0px",margin:"0px",transform:"translate(0px, -33.65px)"},"data-popper-placement":"top-start",ref:function(e){s=e,console.log(s)},children:Object(U.jsx)("li",{children:Object(U.jsx)(P.b,{className:"dropdown-item",to:"#",onClick:function(e){e.preventDefault(),t(),a(!1)},children:"Logout"})})})},B=a.p+"static/media/logo.d024f6dc.svg",J=Object(c.b)((function(e){return{isAuth:e.common.isAuth}}),{setAuth:E})((function(e){var t=Object(L.useState)(!1),a=Object(k.a)(t,2),s=a[0],n=a[1],c=function(){n(!s)};return Object(U.jsxs)("nav",{className:"d-flex flex-column justify-content-between h-100 text-white bg-dark",children:[Object(U.jsxs)("div",{children:[Object(U.jsxs)(P.b,{to:"/",className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none",children:[Object(U.jsx)("img",{className:"bi me-2",src:B,width:"32",height:"32",alt:"img"}),Object(U.jsx)("span",{className:"fs-4",children:Object(U.jsx)("b",{children:"EBase"})})]}),Object(U.jsx)("hr",{}),Object(U.jsx)("ul",{className:"nav nav-pills flex-column mb-auto",children:Object(U.jsx)("li",{className:"nav-item",children:Object(U.jsx)(P.c,{to:"/employees",className:"nav-link text-white","aria-current":"page",activeClassName:"active",children:"Employees"})})})]}),e.isAuth&&Object(U.jsxs)("div",{className:"dropdown",children:[Object(U.jsx)("hr",{}),Object(U.jsx)(P.b,{to:"#",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle",id:"dropdownUser1","data-bs-toggle":"dropdown","aria-expanded":s,onClick:c,children:Object(U.jsx)("strong",{children:"Admin"})}),s?Object(U.jsx)(q,{onOutside:c,setAuth:e.setAuth}):null]})]})})),Y=function(){return Object(U.jsxs)("div",{className:"text-center",style:{paddingTop:"30vh"},children:[Object(U.jsx)("h1",{children:"Welcome!"}),Object(U.jsx)("h2",{children:"Watch information about employees"}),Object(U.jsx)("div",{className:"mb-2",children:"Dolor ipsum do voluptate do amet sit ut qui do reprehenderit officia. Reprehenderit do proident velit esse cupidatat exercitation sint in. Ad aliquip culpa magna culpa amet ipsum aliquip. Sunt anim ipsum ipsum dolore nulla id veniam do enim. Eu ea est velit qui fugiat labore ex. Eu Lorem non officia minim anim do aliquip laborum id proident. Irure id magna ad ex qui aliquip et ex."}),Object(U.jsxs)("div",{children:[Object(U.jsxs)(P.b,{to:"/employees",className:"btn btn-primary btn-lg me-3",children:[Object(U.jsx)("span",{className:"glyphicon glyphicon-home"}),"Show employee's list "]}),Object(U.jsxs)(P.b,{to:"/add",className:"btn btn-success btn-lg",children:[Object(U.jsx)("span",{className:"glyphicon glyphicon-envelope"}),"Add new employee "]})]})]})},H=a.p+"static/media/logo_black.988a0766.svg",M=Object(c.b)((function(e){return{isAuth:e.common.isAuth}}),{setAuth:E})((function(e){var t=Object(L.useState)({email:"",password:""}),a=Object(k.a)(t,2),s=a[0],n=a[1],c=function(t){t.preventDefault(),e.setAuth(!0),e.history.push("/")};return Object(U.jsx)("main",{className:"text-center",children:Object(U.jsxs)("form",{onSubmit:c,children:[Object(U.jsx)("img",{className:"mb-4",src:H,alt:"pic",width:"72",height:"57",style:{fontSize:0}}),Object(U.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Please sign in"}),Object(U.jsxs)("div",{className:"form-floating",children:[Object(U.jsx)("input",{type:"email",className:"form-control",id:"floatingInput",placeholder:"name@example.com",value:s.email,onChange:function(e){n(Object(r.a)(Object(r.a)({},s),{},{email:e.target.value}))}}),Object(U.jsx)("label",{htmlFor:"floatingInput",children:"Email address"})]}),Object(U.jsxs)("div",{className:"form-floating",children:[Object(U.jsx)("input",{type:"password",className:"form-control",id:"floatingPassword",placeholder:"password",value:s.password,onChange:function(e){n(Object(r.a)(Object(r.a)({},s),{},{password:e.target.value}))}}),Object(U.jsx)("label",{htmlFor:"floatingPassword",children:"Password"})]}),Object(U.jsx)("div",{className:"checkbox mb-3",children:Object(U.jsxs)("label",{children:[Object(U.jsx)("input",{type:"checkbox",value:"remember-me"})," Remember me"]})}),Object(U.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Sign in"}),Object(U.jsx)("p",{className:"text-muted",children:"EBase\xa9 2021"})]})})})),K=Object(c.b)((function(e){return{isAuth:e.common.isAuth}}),{})((function(e){return Object(U.jsxs)("div",{className:"d-flex flex-nowrap vh-100 overflow-hidden",children:[Object(U.jsx)("aside",{className:"d-flex flex-column flex-shrink-0 p-3 text-white bg-dark",style:{width:"280px"},children:Object(U.jsx)(J,{})}),Object(U.jsx)("main",{className:"container pt-3",children:e.isAuth?Object(U.jsxs)(T.d,{children:[Object(U.jsx)(T.b,{exact:!0,path:"/",component:Y}),Object(U.jsx)(T.b,{exact:!0,path:"/employees",component:D}),Object(U.jsx)(T.b,{path:"/employees/:id",component:F}),Object(U.jsx)(T.a,{to:"/"})]}):Object(U.jsxs)(T.d,{children:[Object(U.jsx)(T.b,{path:"/login",component:M}),Object(U.jsx)(T.a,{to:"/login"})]})})]})}));a(60);n.a.render(Object(U.jsx)(c.a,{store:A,children:Object(U.jsx)(P.a,{children:Object(U.jsx)(T.d,{children:Object(U.jsx)(T.b,{path:"/",component:K})})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.8d1dcc52.chunk.js.map